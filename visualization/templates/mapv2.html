<html>
<head>
    <title>BIDS IEM</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Lato:400,300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"> </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-3-typeahead/4.0.0/bootstrap3-typeahead.js"> </script>
</head>

<style>
* {
  font-family:'Lato'
}
path.link {
  fill: none;
  stroke: #666;
  stroke-width: 1.5px;
}

circle {
  fill: #ccc;
  stroke: #fff;
  stroke-width: 1.5px;
}

text {
  font-size:0.75em;
  pointer-events: none;
  transform: translateX(-50%);
  width:100%;
  text-align:center;
}

#canvas-svg {
  z-index:1;
}

#search {
	margin-right: 100px;
}

#form {
	position: fixed;
	bottom: 10px;
  z-index:21;
}
h1 {
  font-weight:300;
}
aside.info {
  position:absolute;
  top:0;
  right:0;
  height:100%;
  background-color:#FFF;
  z-index:20;
  text-align:left;
  float:right;
  padding:0;
}
  .info-blurb {
    padding:2em 3em;
  }
.subtitle {
  width:100%;
  color:#000;
  font-weight:300;
}
.color-box {
  width:1em;
  height:1em;
  display:inline-block;
  float:none;
  margin-top:0.5em;
}
.color-label {
  text-align:center;
}
.text-label {
  font-size:1em;
  text-transform:uppercase;
  line-height:2em;
}
.color-label,.text-label {
  padding:0;
}
aside ul {
  padding:0;
}
aside li, aside ul {
  list-style:none;
  float:left;
  width:100%;
}
  aside li {
    padding:1em 5em;
    border-top:1px solid #eee;
    border-bottom:1px solid #eee;
    cursor:pointer;
  }
  aside li + li {
    border-top:none;
  }

</style>

<script>
var categories = {'Social Sciences': {'BIDS': 0.2908392370402091, 'Energy Frontier Research Center (EFRC)': 0.22606403884818038, 'Space Sciences Laboratory (SSL)': 0.05504054058562291, 'Geospatial Innovation Facility (GIF)': 0.58796086397109, 'Berkeley Research Computing': 0.7592736965898316, 'Berkeley Initiative in Global Change Biology (BiGCB)': 0.24174995021137535, 'Research IT': 0.041976458789349524, 'Berkeley Center for New Media': 0.7487822821666636, 'Theoretical Astrophysics Center (TAC)': 0.6860087911930545, 'Townsend Center for the Humanities': 0.7166805283967765, 'Center for Causal Inference': 0.8903538943275838, 'California Census Research Data Center (CCRDCs)': 0.06806689474086725, 'Computational Cosmology Center (C³)': 0.29482163495880975, 'Scalable Data Management, Analysis, and Visualization (SDAV)': 0.3491833920469849, 'NERSC': 0.7981981647314924, 'Electronic Cultural Atlas Initiative (ECAI)': 0.17998531546066399, 'Visualization Group': 0.3013653578280924, 'DLab': 0.540629944228793, 'Geospatial Innovation Facility': 0.7941306154692939, 'Center for Time Domain Informatics (CTDI)': 0.10037907739843277, 'Computational Cognitive Science Lab': 0.008267423095214887, 'Berkeley KamLAND Group': 0.6909266846153038, 'Urban Analytics Lab': 0.8741196196042562, 'Joint BioEnergy Institute (JBEI)': 0.7565060685148823, 'Redwood Center for Theoretical Neuroscience': 0.4905654754282759, 'Berkeley Atmospheric Sciences Center (BASC)': 0.4565724166354326, 'Center for Long-Term Cybersecurity': 0.26052616593604405, 'Experimental Social Science Laboratory (XLab)': 0.178218293715816, 'Berkeley Natural History Museums (BNHM)': 0.9337115900260826, 'Berkeley Center for Cosmological Physics': 0.2833537315788225, 'Radio Astronomy Laboratory (RAL)': 0.3016685574382054, 'Simons Institute': 0.8729784073093777, 'Computational Research Division at the Berkeley Lab ': 0.32984702758297846, 'CollectionSpace': 0.5533318521931551, 'Archaeological Research Facility (ARF)': 0.636630193776911, 'The Archaeological Research Facility': 0.5414157317233227, 'Synthetic Biology Engineering Research Center (SYNBERC)': 0.8763623113472856, 'CITRIS ': 0.3473391661458628, 'California Digital Library': 0.5166279256460632, 'The Electronic Cultural Atlas Initiative': 0.9678414405600395, 'AMPLab': 0.8941558910494681, 'Molecular Foundry': 0.9156510505150669, 'i4Energy Center': 0.09961221678264931, 'Nuclear Science and Security Consortium (NSSC)': 0.6283739133359261, 'UrbanSim': 0.25814462926894133, 'Center for Computational Biology (CCB)': 0.35001976009498414, 'Berkeley Nanosciences and Nanoengineering Institute (BNNI)': 0.4487213980615793, 'Berkeley Seismological Laboratory': 0.05411799035605458, 'Helen Wills Neuroscience Institute': 0.8876229961072717, 'Joint Genome Institute (JGI)': 0.9272970092906033, 'Institute for Business Innovation': 0.4308077252802617, 'Computational Genomics Resource Laboratory (CGRL)': 0.6398711845057968, 'SDAV': 0.8147946371017376, 'Henry H. Wheeler, Jr. Brain Imaging Center (BIC)': 0.7152447942468605, 'California Institute for Science and Innovation (QB3)': 0.32646870765698055}, 'Theory': {'BIDS': 0.015160349963342923, 'Energy Frontier Research Center (EFRC)': 0.9238583624571168, 'Space Sciences Laboratory (SSL)': 0.3593924072423259, 'Geospatial Innovation Facility (GIF)': 0.30786215110193815, 'Berkeley Research Computing': 0.6679077535691854, 'Berkeley Initiative in Global Change Biology (BiGCB)': 0.702260262009517, 'Research IT': 0.9818643233059292, 'Berkeley Center for New Media': 0.2991663121531585, 'Theoretical Astrophysics Center (TAC)': 0.5061246372749091, 'Townsend Center for the Humanities': 0.31006081817638775, 'Center for Causal Inference': 0.9293784185262793, 'California Census Research Data Center (CCRDCs)': 0.4100500717147699, 'Computational Cosmology Center (C³)': 0.08332096122325516, 'Scalable Data Management, Analysis, and Visualization (SDAV)': 0.35878069728782713, 'NERSC': 0.0241269563093075, 'Electronic Cultural Atlas Initiative (ECAI)': 0.6650838780789174, 'Visualization Group': 0.9758920549040729, 'DLab': 0.6612785011074602, 'Geospatial Innovation Facility': 0.48102251477773794, 'Center for Time Domain Informatics (CTDI)': 0.7450459887242965, 'Computational Cognitive Science Lab': 0.0812466479234274, 'Berkeley KamLAND Group': 0.5678274874355812, 'Urban Analytics Lab': 0.5715376540651649, 'Joint BioEnergy Institute (JBEI)': 0.7308133187941935, 'Redwood Center for Theoretical Neuroscience': 0.9989061967945011, 'Berkeley Atmospheric Sciences Center (BASC)': 0.44767801193687073, 'Center for Long-Term Cybersecurity': 0.6405748984416827, 'Experimental Social Science Laboratory (XLab)': 0.2674811247747647, 'Berkeley Natural History Museums (BNHM)': 0.02392234311914032, 'Berkeley Center for Cosmological Physics': 0.38260214524264, 'Radio Astronomy Laboratory (RAL)': 0.532668038643469, 'Simons Institute': 0.43611823612961065, 'Computational Research Division at the Berkeley Lab ': 0.6806826910390172, 'CollectionSpace': 0.05795378220821368, 'Archaeological Research Facility (ARF)': 0.06255897146555534, 'The Archaeological Research Facility': 0.9979225109664625, 'Synthetic Biology Engineering Research Center (SYNBERC)': 0.8994500720705255, 'CITRIS ': 0.8140964334310065, 'California Digital Library': 0.5853591732732573, 'The Electronic Cultural Atlas Initiative': 0.6961149820493219, 'AMPLab': 0.8688364095155793, 'Molecular Foundry': 0.24182854328488235, 'i4Energy Center': 0.7116520928086978, 'Nuclear Science and Security Consortium (NSSC)': 0.8562648956546615, 'UrbanSim': 0.3727149477912566, 'Center for Computational Biology (CCB)': 0.6838983808051483, 'Berkeley Nanosciences and Nanoengineering Institute (BNNI)': 0.0421632659079787, 'Berkeley Seismological Laboratory': 0.6379770984716711, 'Helen Wills Neuroscience Institute': 0.3887305627366575, 'Joint Genome Institute (JGI)': 0.12126814935055064, 'Institute for Business Innovation': 0.4529494654870412, 'Computational Genomics Resource Laboratory (CGRL)': 0.34360881509681096, 'SDAV': 0.3118474109892817, 'Henry H. Wheeler, Jr. Brain Imaging Center (BIC)': 0.3312316656867559, 'California Institute for Science and Innovation (QB3)': 0.3602861190367853}, 'Computation': {'BIDS': 0.5250132065268512, 'Energy Frontier Research Center (EFRC)': 0.22952564304327283, 'Space Sciences Laboratory (SSL)': 0.8929334315109755, 'Geospatial Innovation Facility (GIF)': 0.05404337974763196, 'Berkeley Research Computing': 0.5543688082326139, 'Berkeley Initiative in Global Change Biology (BiGCB)': 0.07028305657892497, 'Research IT': 0.9520539039369537, 'Berkeley Center for New Media': 0.6142445656974737, 'Theoretical Astrophysics Center (TAC)': 0.07589771157220793, 'Townsend Center for the Humanities': 0.2649864230186325, 'Center for Causal Inference': 0.41419762785964476, 'California Census Research Data Center (CCRDCs)': 0.3576330735260932, 'Computational Cosmology Center (C³)': 0.19949479635572231, 'Scalable Data Management, Analysis, and Visualization (SDAV)': 0.6649726919450694, 'NERSC': 0.7619596086514491, 'Electronic Cultural Atlas Initiative (ECAI)': 0.02497488996555508, 'Visualization Group': 0.7689863499913232, 'DLab': 0.04664523727801695, 'Geospatial Innovation Facility': 0.7919045581864553, 'Center for Time Domain Informatics (CTDI)': 0.1390852101499721, 'Computational Cognitive Science Lab': 0.5835712552090093, 'Berkeley KamLAND Group': 0.04680059515615409, 'Urban Analytics Lab': 0.4635587682064314, 'Joint BioEnergy Institute (JBEI)': 0.0010474828540484316, 'Redwood Center for Theoretical Neuroscience': 0.34109985773300033, 'Berkeley Atmospheric Sciences Center (BASC)': 0.2757545572588427, 'Center for Long-Term Cybersecurity': 0.5037575336308298, 'Experimental Social Science Laboratory (XLab)': 0.3359364184368948, 'Berkeley Natural History Museums (BNHM)': 0.7733118130549013, 'Berkeley Center for Cosmological Physics': 0.8424428737362474, 'Radio Astronomy Laboratory (RAL)': 0.20498188280959617, 'Simons Institute': 0.16635303429643455, 'Computational Research Division at the Berkeley Lab ': 0.879094984055206, 'CollectionSpace': 0.49521772636063044, 'Archaeological Research Facility (ARF)': 0.29242233255596994, 'The Archaeological Research Facility': 0.10783544129678446, 'Synthetic Biology Engineering Research Center (SYNBERC)': 0.33130951510405304, 'CITRIS ': 0.5890519786191585, 'California Digital Library': 0.34511269895728236, 'The Electronic Cultural Atlas Initiative': 0.3281939198050049, 'AMPLab': 0.8394092099004514, 'Molecular Foundry': 0.05233385605632401, 'i4Energy Center': 0.628299872485819, 'Nuclear Science and Security Consortium (NSSC)': 0.511957746789242, 'UrbanSim': 0.13194385770791872, 'Center for Computational Biology (CCB)': 0.6389705484046226, 'Berkeley Nanosciences and Nanoengineering Institute (BNNI)': 0.649139878009506, 'Berkeley Seismological Laboratory': 0.8088719449173631, 'Helen Wills Neuroscience Institute': 0.9418082993800606, 'Joint Genome Institute (JGI)': 0.5216692511657082, 'Institute for Business Innovation': 0.7247532441208108, 'Computational Genomics Resource Laboratory (CGRL)': 0.876610803066814, 'SDAV': 0.538941561352993, 'Henry H. Wheeler, Jr. Brain Imaging Center (BIC)': 0.8149084990579749, 'California Institute for Science and Innovation (QB3)': 0.9732827216163541}, 'Visualization': {'BIDS': 0.01801954087783053, 'Energy Frontier Research Center (EFRC)': 0.8019730567250729, 'Space Sciences Laboratory (SSL)': 0.6141221173431705, 'Geospatial Innovation Facility (GIF)': 0.4736541431410617, 'Berkeley Research Computing': 0.8569785346108884, 'Berkeley Initiative in Global Change Biology (BiGCB)': 0.8650378104173351, 'Research IT': 0.6641285230380758, 'Berkeley Center for New Media': 0.22042040946049268, 'Theoretical Astrophysics Center (TAC)': 0.7282815615215916, 'Townsend Center for the Humanities': 0.26441351130207325, 'Center for Causal Inference': 0.6183418500985737, 'California Census Research Data Center (CCRDCs)': 0.3916165872867021, 'Computational Cosmology Center (C³)': 0.45327097988370424, 'Scalable Data Management, Analysis, and Visualization (SDAV)': 0.5502796818130021, 'NERSC': 0.852717131916098, 'Electronic Cultural Atlas Initiative (ECAI)': 0.812007334862651, 'Visualization Group': 0.3312822786497358, 'DLab': 0.8615874735340445, 'Geospatial Innovation Facility': 0.8001799942118178, 'Center for Time Domain Informatics (CTDI)': 0.15564760720402893, 'Computational Cognitive Science Lab': 0.2277321905219608, 'Berkeley KamLAND Group': 0.7390263553967289, 'Urban Analytics Lab': 0.46520694916449357, 'Joint BioEnergy Institute (JBEI)': 0.4776802040799266, 'Redwood Center for Theoretical Neuroscience': 0.6476256749354277, 'Berkeley Atmospheric Sciences Center (BASC)': 0.5159149896616042, 'Center for Long-Term Cybersecurity': 0.28214892241528966, 'Experimental Social Science Laboratory (XLab)': 0.47221035708376025, 'Berkeley Natural History Museums (BNHM)': 0.13897392913457784, 'Berkeley Center for Cosmological Physics': 0.24859721210910457, 'Radio Astronomy Laboratory (RAL)': 0.3570979774294374, 'Simons Institute': 0.4525470669608235, 'Computational Research Division at the Berkeley Lab ': 0.519427480677749, 'CollectionSpace': 0.3972919639815352, 'Archaeological Research Facility (ARF)': 0.5583317070365514, 'The Archaeological Research Facility': 0.2023999614075258, 'Synthetic Biology Engineering Research Center (SYNBERC)': 0.22230226510111972, 'CITRIS ': 0.38412335174264545, 'California Digital Library': 0.24570243972194794, 'The Electronic Cultural Atlas Initiative': 0.6482313071790448, 'AMPLab': 0.6311207187963034, 'Molecular Foundry': 0.08449245478091005, 'i4Energy Center': 0.3179465155949974, 'Nuclear Science and Security Consortium (NSSC)': 0.40938397567409046, 'UrbanSim': 0.298310729863416, 'Center for Computational Biology (CCB)': 0.9058516492412683, 'Berkeley Nanosciences and Nanoengineering Institute (BNNI)': 0.7409073335121569, 'Berkeley Seismological Laboratory': 0.41194651493363066, 'Helen Wills Neuroscience Institute': 0.752656775163653, 'Joint Genome Institute (JGI)': 0.4323859025502875, 'Institute for Business Innovation': 0.26750133278956145, 'Computational Genomics Resource Laboratory (CGRL)': 0.4293676141657329, 'SDAV': 0.09450892124494392, 'Henry H. Wheeler, Jr. Brain Imaging Center (BIC)': 0.6928189200997505, 'California Institute for Science and Innovation (QB3)': 0.12510355377219384}};

var nodes = [{'category': 'Visualization',
  'link': 'https://amplab.cs.berkeley.edu/',
  'name': 'AMPLab',
  'purpose': 'Working at the intersection of three massive trends - powerful machine learning, cloud computing, and crowdsourcing - the AMPLab is integrating algorithms, machines, and people to make sense of Big Data. They are creating a new generation of analytics tools to answer deep questions over dirty and heterogeneous data by extending and fusing machine learning, warehouse-scale computing, and human computation. They validate these ideas on real-world problems, including participatory sensing, urban planning, and personalized medicine with their application and industrial partners.'},
 {'category': 'Visualization',
  'link': 'http://arf.berkeley.edu/',
  'name': 'Archaeological Research Facility (ARF)',
  'purpose': 'ARF encourages and carries out archaeological field and laboratory research conducted by UC Berkeley archaeologists and related specialists. As a field of research, archaeology is inherently interdisciplinary and collaborative; not only are there intimate research collaborations among natural scientists, social scientists, and/or humanities scholars, but archaeology is practiced by scholars who expectedly hold faculty and/or research positions in a variety of departments, ranging from classics to earth and planetary science.'},
 {'category': 'Computation',
  'link': 'http://www.atmos.berkeley.edu/',
  'name': 'Berkeley Atmospheric Sciences Center (BASC)',
  'purpose': 'BCCP is focused on understanding the origin and evolution of the universe through a series of programs to define the observations, experiments, concepts, and simulations needed to answer the fundamental questions in cosmology. Combining experimentation, computation, and theory, BCCP continues to develop the foundation of an accurate, reliable model of the cosmos. They compare the implications of this evolving model against observations—thus opening new horizons and expanding our knowledge of the universe.'},
 {'category': 'Visualization',
  'link': 'http://bccp.berkeley.edu/',
  'name': 'Berkeley Center for Cosmological Physics',
  'purpose': 'The Berkeley Center For Cosmological Physics (BCCP) is focused on understanding the origin and evolution of the universe through a series of programs to define the observations, experiments, concepts, and simulations needed to answer the fundamental questions in cosmology. Combining experimentation, computation, and theory, BCCP continues to develop the foundation of an accurate, reliable model of the cosmos. We compare the implications of this evolving model against observations — thus opening new horizons and expanding our knowledge of the universe.'},
 {'category': 'Computation',
  'link': 'http://bcnm.berkeley.edu/',
  'name': 'Berkeley Center for New Media',
  'purpose': 'The Berkeley Center for New Media is a focal point for research and teaching about new media, led by a highly trans-disciplinary community of 120 affiliated faculty, advisors, and scholars, from 35 UC Berkeley departments. Their mission is to critically analyze and help shape developments in new media from cross-disciplinary and global perspectives that emphasize humanities and the public interest.'},
 {'category': 'Visualization',
  'link': 'http://globalchange.berkeley.edu/',
  'name': 'Berkeley Initiative in Global Change Biology (BiGCB)',
  'purpose': 'The Berkeley Initiative in Global Change Biology uses state-of-the-art tools and technologies to mobilize historic and modern biological data to understand how organisms and ecological systems have responded to past global change events. This work will improve the forecasting of biological system response to future global change.'},
 {'category': 'Visualization',
  'link': 'http://kamland.lbl.gov/',
  'name': 'Berkeley KamLAND Group',
  'purpose': "The Berkeley KamLAND (Kamioka Liquid-Scintillator Anti-Neutrino Detector) group consists of physicists from both the Berkeley Lab and the physics department at UC Berkeley. KamLAND  has demonstrated convincingly that neutrinos are massive and undergo flavor oscillations—a profound discovery. Many questions of fundamental significance remain open, but with a new understanding of neutrino propagation, neutrino science is now poised to provide illuminating answers to some of society's most probing questions concerning the Earth; the Sun; and fantastic astrophysical events, such as supernovae."},
 {'category': 'Visualization',
  'link': 'http://nano.berkeley.edu/welcome/welcome.html',
  'name': 'Berkeley Nanosciences and Nanoengineering Institute (BNNI)',
  'purpose': 'BNNI is the umbrella organization for expanding and coordinating Berkeley research and educational activities in nanoscale science and engineering. BNNI aims to serve as a catalyst for greater interdisciplinary collaboration between Berkeley faculty and students in disciplines such as physics, chemistry, biology, and engineering as well as deepen and expand collaborations with industry, national labs, and government agencies.'},
 {'category': 'Visualization',
  'link': 'http://bnhm.berkeley.edu/',
  'name': 'Berkeley Natural History Museums (BNHM)',
  'purpose': 'The BNHM are world leaders in biodiversity informatics, building data pipelines for data access, quality, and visualizations for use in research and education. Come talk to us about VertNet, the Berkeley Ecoinformatics Engine,  BerkeleyMapper,  AmphibiaWeb, and much more.'},
 {'category': 'Computation',
  'link': 'http://research-it.berkeley.edu/programs/berkeley-research-computing',
  'name': 'Berkeley Research Computing',
  'purpose': 'The BRC program supports research with a coordinated set of services for a range of computation and data-analysis needs. BRC includes consulting that ensures faculty are matched to the appropriate resources and that the computation and data resources meet their needs.'},
 {'category': 'Social Sciences',
  'link': 'http://seismo.berkeley.edu/',
  'name': 'Berkeley Seismological Laboratory',
  'purpose': 'BSL supports fundamental research into all aspects of earthquakes, solid earth processes, and their effects on society through the collection, archival, and delivery of high-quality geophysical data and through fostering a dynamic research environment that connects researchers across disciplines and to geophysical observations systems.'},
 {'category': 'Visualization',
  'link': 'bids.berkeley.edu',
  'name': 'BIDS',
  'purpose': 'The Berkeley Institiute for Data Science (BIDS) exists as a collaborative space for researchers on campus interested in "data science" methods. This includes the development of new methods as well as training and reserach for incorporating existing methods into current research. They host seminars, workgroups, and workshops, and fund several part-time positions for researchers to conduct data science research.'},
 {'category': 'Computation',
  'link': 'http://www.ccrdc.ucla.edu/',
  'name': 'California Census Research Data Center (CCRDCs)',
  'purpose': 'The California Census Research Data Center (CCRDC) seeks to provide qualified researchers across California with the opportunity to perform statistical analysis on non-public Census microdata. CCRDC is a joint project of the U.S. Census Bureau and UCLA and UC Berkeley, partnering also with Stanford University and the University of Southern California. The secure RDC environment supports qualified researchers while protecting respondent confidentiality with state-of-the-art tools and processes. '},
 {'category': 'Computation',
  'link': 'http://www.cdlib.org/',
  'name': 'California Digital Library',
  'purpose': 'In collaboration with the UC libraries and other partners, the California Digital Library has assembled one of the world’s largest digital research libraries and changed the way that faculty, students, and researchers discover and access information.'},
 {'category': 'Theory',
  'link': 'http://www.qb3.org/',
  'name': 'California Institute for Science and Innovation (QB3)',
  'purpose': 'QB3 is one of four Governor Gray Davis Institutes for Science and Innovation established in 2000 to ensure the future of the California economy by promoting research and innovation. QB3 is a cooperative effort between the state of California; private industry; venture capital; and the University of California campuses at Berkeley, San Francisco, and Santa Cruz. QB3 harnesses the quantitative sciences of physics and engineering to unify our understanding of biological systems at all levels of complexity, from atoms and molecules to cells, tissues, and entire living organisms. QB3 scientists make discoveries that drive the development of technologies, products, and wholly new industries, ensuring that California remains competitive in the 21st century. '},
 {'category': 'Theory',
  'link': 'http://igs.berkeley.edu/research/center-for-causal-inference',
  'name': 'Center for Causal Inference',
  'purpose': 'The Center for Causal Inference and Program Evaluation seeks to further research on developing tools for making causal inferences in the social sciences. The study of causality has become increasing interdisciplinary, and the Center seeks to foster greater dialogue between the various disciplines that are contributing to the growing literature, including political science, economics, statistics, biostatistics, and computer science.'},
 {'category': 'Theory',
  'link': 'http://qb3.berkeley.edu/ccb/',
  'name': 'Center for Computational Biology (CCB)',
  'purpose': 'CCB was established in 2003 through the Chancellor’s New Ideas Initiative, an outgrowth of the 2002 Strategic Academic Plan, to expand the research base at the university and produce the next generation of leaders in the fundamental and applied biological sciences. Administratively housed in the Berkeley component of the California Institute for Quantitative Biosciences, the mission of CCB is to support interdisciplinary research on the broad array of subjects that cover the interface between computation and biology and to foster graduate and undergraduate education in the field.'},
 {'category': 'Social Sciences',
  'link': 'http://www.ischool.berkeley.edu/cltc',
  'name': 'Center for Long-Term Cybersecurity',
  'purpose': 'The Center for Long-Term Cybersecurity exists as a nexus of many researchers with an interest in how technology and security play a role in modern day life.'},
 {'category': 'Social Sciences',
  'link': 'https://sites.google.com/site/cftdinfo/',
  'name': 'Center for Time Domain Informatics (CTDI)',
  'purpose': 'CTDI came from the newly emerging discipline—time-domain astronomy and informatics—which involves astronomers, statisticians, and computer scientists. At the most basic level, they are interested in extracting optimal (and novel) information from a finite dataset of time-series data in a computational-constrained environment. In other words, they aim to understand the huge landscape of variable stars and transient events in the Universe, using computers (and in particular, machine learning) to do this more efficiently. '},
 {'category': 'Social Sciences',
  'link': 'http://citris-uc.org/',
  'name': 'CITRIS ',
  'purpose': 'The Center for Information Technology Research in the Interest of Society (CITRIS) creates information technology solutions for many of our most pressing social, environmental, and health care problems. CITIRS was created to “shorten the pipeline” between world-class laboratory research and the creation of start-ups, larger companies, and whole industries. CITRIS facilitates partnerships and collaborations among more than 300 faculty members and thousands of students from numerous departments at four University of California campuses with industrial researchers from over 60 corporations.'},
 {'category': 'Theory',
  'link': 'http://www.collectionspace.org/',
  'name': 'CollectionSpace',
  'purpose': 'CollectionSpace is an open-source collections management application that meets the needs of museums, historical societies, and other collection-holding organizations. The Phoebe A. Hearst Museum of Anthropology uses CollectionSpace to manage and provide online access to its collection of more than 3.8 million cataloged objects of material culture from around the world. The University and Jepson Herbaria is working to expand CollectionSpace to support research-driven interoperability, including the aggregation of content for the Consortium of California Herbaria.'},
 {'category': 'Theory',
  'link': 'http://cocosci.berkeley.edu/',
  'name': 'Computational Cognitive Science Lab',
  'purpose': 'The Computational Cognitive Science Lab\'s research goal is to understand the computational and statistical foundations of human inductive inference and to use this understanding to develop better accounts of human behavior and better automated systems for solving the challenging computational problems that people solve effortlessly in everyday life. They pursue this goal by analyzing human cognition in terms of optimal or "rational" solutions to computational problems.'},
 {'category': 'Social Sciences',
  'link': 'http://crd.lbl.gov/groups-depts/computational-cosmology-center/',
  'name': 'Computational Cosmology Center (C³)',
  'purpose': 'C³ is a focused collaboration of astrophysicists and computational scientists whose goals are to develop the tools, techniques, and technologies to meet the analysis challenges posed by present and future cosmological datasets. Members of C³ conduct research in a number of areas where high-performance computing is needed to support theoretical and observational cosmology or where massively parallel cosmology codes can help to drive computational science research and development.'},
 {'category': 'Theory',
  'link': 'http://qb3.berkeley.edu/qb3/cgrl/',
  'name': 'Computational Genomics Resource Laboratory (CGRL)',
  'purpose': 'CGRL at UC Berkeley’s QB3 aims to facilitate research programs employing computational biology with computational infrastructure for data analysis, training in analytical tools for next-generation sequence data, and project-specific consultation on experiment design and analysis.'},
 {'category': 'Visualization',
  'link': 'http://crd.lbl.gov/',
  'name': 'Computational Research Division at the Berkeley Lab ',
  'purpose': 'The Computational Research Division conducts research and development in mathematical modeling and simulation, algorithm design, data storage, management and analysis, computer system architecture, and high-performance software implementation. They collaborate directly with scientists across the Berkeley Lab, the Department of Energy, and industry to solve some of the world’s most challenging computational and data management and analysis problems in a broad range of scientific and engineering fields, including materials science, biology, climate modeling, astrophysics, fusion science, and many others.'},
 {'category': 'Theory',
  'link': 'http://dlab.berkeley.edu',
  'name': 'DLab',
  'purpose': 'D-Lab helps Berkeley faculty, staff, and graduate students move forward with world-class research in data intensive social science. We think of data as an expansive category, one that is constantly changing as the research frontier moves. We offer a venue for methodological exchange from all corners of campus and across its bounds'},
 {'category': 'Theory',
  'link': 'http://www.ecai.org/',
  'name': 'Electronic Cultural Atlas Initiative (ECAI)',
  'purpose': 'ECAI, established in 1997 by Emeritus Prof. Lewis Lancaster of UC Berkeley, is a digital humanities initiative involving numerous professors and institutions around the world with the stated goal of creating a networked digital atlas by creating tools and setting standards for dynamic, digital maps.'},
 {'category': 'Social Sciences',
  'link': 'http://www.cchem.berkeley.edu/co2efrc/',
  'name': 'Energy Frontier Research Center (EFRC)',
  'purpose': 'The Energy Frontier Research Center for gas separations relevant to clean air technologies at UC Berkeley focuses on the energy costs associated with the separation of CO2 from gas mixtures. The long-term goal of this EFRC is to develop the science and materials that will contribute to the reduction of the parasitic energy costs of carbon capture and sequestration.'},
 {'category': 'Visualization',
  'link': 'http://xlab.berkeley.edu/',
  'name': 'Experimental Social Science Laboratory (XLab)',
  'purpose': 'Founded in 2004, the XLab is a laboratory for conducting experiment-based investigations on issues of interest to social scientists. XLab enables researchers to explore the wellsprings of human decision making, especially where it involves decisions with monetary consequences. The XLab is thus an "economics wind tunnel" whereby social scientists can test out various theories that help us understand economics and other forms of human behavior.'},
 {'category': 'Theory',
  'link': 'http://gif.berkeley.edu/',
  'name': 'Geospatial Innovation Facility',
  'purpose': "The Geospatial Innovation Facility at UC Berkeley's College of Natural Resources provides leadership and training across a broad array of integrated mapping technologies, such as Remote Sensing, Geographic Information Systems (GIS), Global Positioning Systems (GPS), and modeling. The GIF offers innovative geospatial approaches to environmental research projects and grant opportunities."},
 {'category': 'Visualization',
  'link': 'http://gif.berkeley.edu/',
  'name': 'Geospatial Innovation Facility (GIF)',
  'purpose': "The GIF at UC Berkeley's College of Natural Resources provides leadership and training across a broad array of integrated mapping technologies. Our goal is to help people better understand the changing world through the analysis and visualization of spatial data. We develop engaging applications that leverage and build upon state-of-the-art geospatial and web technologies and provide opportunities for researchers to learn how they can use spatial data to answer critical questions."},
 {'category': 'Visualization',
  'link': 'http://neuroscience.berkeley.edu/',
  'name': 'Helen Wills Neuroscience Institute',
  'purpose': 'HWNI is an active, collaborative research community that investigates fundamental questions about how the brain functions. Using approaches from many disciplines (including biophysics, chemistry, cognitive science, computer science, genetics, mathematics, molecular and cell biology, physics, and physiology), they seek to understand how the brain generates behavior and cognition and how to better understand, diagnose, and treat neurological disorders.'},
 {'category': 'Visualization',
  'link': 'http://bic.berkeley.edu/',
  'name': 'Henry H. Wheeler, Jr. Brain Imaging Center (BIC)',
  'purpose': 'BIC is one of four technology centers established under the auspices of the Helen Wills Neuroscience Institute. It is a campus-wide resource that supports advance brain-imaging technologies dedicated solely to basic brain research.'},
 {'category': 'Theory',
  'link': 'http://i4energy.org/',
  'name': 'i4Energy Center',
  'purpose': 'i4Energy is a vibrant community of researchers and innovators rooted in its three founding institutions: the University of California’s Center for Information Technology Research in the Interest of Society, the California Institute for Energy and Environment, and Lawrence Berkeley National Laboratory. With partners in industry and government, this powerful research collaboration is focused on creating an integrated information infrastructure that will transform our energy grid into a cooperative, “aware” energy network that is both efficient and able to use sustainable energy sources.'},
 {'category': 'Social Sciences',
  'link': 'http://businessinnovation.berkeley.edu/data-science-strategy/',
  'name': 'Institute for Business Innovation',
  'purpose': 'The Haas School of Business has incorporated recent developments of data science and business analytics in many of its activities, including research done by the faculty, teaching, conferences, and roundtables. Housed at the Institute for Business Innovation, the Program in Data Science and Strategy is an expanding initiative that seeks to disseminate pioneering research, train business students, and form partnerships with the business and financial communities to incorporate data science into business decisions and policy-making.'},
 {'category': 'Visualization',
  'link': 'http://www.jbei.org/',
  'name': 'Joint BioEnergy Institute (JBEI)',
  'purpose': 'JBEI is one of three Bioenergy Research Centers created by the U.S. Department of Energy in 2007 to advance the development of biofuels—liquid fuels derived from the solar energy stored in plant biomass that can replace gasoline, diesel, and jet fuels. JBEI is a multi-institutional partnership that is led by the Berkeley Lab and includes the Sandia National Laboratories, the University of California campuses of Berkeley and Davis, the Carnegie Institution for Science, the Lawrence Livermore National Laboratory, and the Pacific Northwest National Laboratory.'},
 {'category': 'Social Sciences',
  'link': 'http://www.jgi.doe.gov/',
  'name': 'Joint Genome Institute (JGI)',
  'purpose': 'The mission of the U.S. Department of Energy (DOE) JGI is to advance genomics in support of the DOE missions related to clean energy generation and environmental characterization and cleanup. Supported by the DOE Office of Science, the DOE JGI unites the expertise of five national laboratories—the Berkeley Lab, Lawrence Livermore, Los Alamos, Oak Ridge, and Pacific Northwest—along with the HudsonAlpha Institute for Biotechnology. JGI is operated by the University of California for the U.S. DOE and the facility provides integrated high-throughput sequencing and computational analysis that enable systems-based scientific approaches to these challenges.'},
 {'category': 'Computation',
  'link': 'http://foundry.lbl.gov/',
  'name': 'Molecular Foundry',
  'purpose': 'The Molecular Foundry is a nanoscience user facility located at the Berkeley Lab. It is a critical part of the Department of Defense\'s National Nanotechnology Initiative, a multi-agency framework designed to improve human health, economic well-being, and national security through leadership in nanotechnology. The Foundry supports broad nanoscience research efforts in both "hard" nanomaterials (nanocrystals, tubes, and lithographically patterned structures) and "soft" nanomaterials (polymers, dendrimers, DNA, proteins, and whole cells) as well as in the design, fabrication, and study of multi-component, complex, functional assemblies of such materials.'},
 {'category': 'Visualization',
  'link': 'https://www.nersc.gov/',
  'name': 'NERSC',
  'purpose': 'The National Energy Research Scientific Computing Center (NERSC), a division of the Berkeley Lab, is the primary scientific computing facility for the Office of Science in the U.S. Department of Energy. As one of the largest facilities in the world devoted to providing computational resources and expertise for basic scientific research, NERSC is a world leader in accelerating scientific discovery through computation.'},
 {'category': 'Theory',
  'link': 'http://nssc.berkeley.edu/',
  'name': 'Nuclear Science and Security Consortium (NSSC)',
  'purpose': 'The National Nuclear Security Administration awarded $25 million to UC Berkeley to lead NSSC, a multi-institution consortium that will support the nation’s nuclear nonproliferation mission through the training and education of experts in the nuclear security field. '},
 {'category': 'Visualization',
  'link': 'http://vcresearch.berkeley.edu/research-unit/radio-astronomy-laboratory',
  'name': 'Radio Astronomy Laboratory (RAL)',
  'purpose': "RAL was created in 1958 to foster research in radio astronomy, a discipline that naturally extends beyond the borders of traditional academic departments at Berkeley. Over the years, faculty and graduate students from the astronomy, physics, chemistry, electrical engineering and computer science, and geology and geophysics departments have made use of the RAL's facilities."},
 {'category': 'Social Sciences',
  'link': 'http://redwood.berkeley.edu/',
  'name': 'Redwood Center for Theoretical Neuroscience',
  'purpose': 'The home of computational and theoretical neuroscience research on campus, the Redwood Center hosts a number of faculty with expertise in mathematical and computational methods. It also conducts seminar series and invited lecture talks in this field.'},
 {'category': 'Visualization',
  'link': 'http://research-it.berkeley.edu/',
  'name': 'Research IT',
  'purpose': 'Research IT provides research computing technologies, consulting, and community for the Berkeley campus. Our goal is to advance research through IT innovation.'},
 {'category': 'Computation',
  'link': 'http://www.sdav-scidac.org/',
  'name': 'Scalable Data Management, Analysis, and Visualization (SDAV)',
  'purpose': 'SDAV provides comprehensive expertise in scientific data management, analysis, and visualization aimed at transferring state-of-the-art techniques into operational use by application scientists on leadership-class computing facilities. It is a collaboration tapping the expertise of researchers at six laboratories and and in seven universities.'},
 {'category': 'Visualization',
  'link': 'http://www.sdav-scidac.org/',
  'name': 'SDAV',
  'purpose': 'SDAV provides comprehensive expertise in scientific data management, analysis, and visualization aimed at transferring state of the art techniques into operational use by application scientists on leadership-class computing facilities.  It is a collaboration tapping the expertise of researchers at six laboratories and and in seven universities.'},
 {'category': 'Theory',
  'link': 'http://simons.berkeley.edu/',
  'name': 'Simons Institute',
  'purpose': "The Simons Institute for the Theory of Computing facilitates collaborative research in theoretical computer science. Established in July 2012 with support from the Simons Foundation, its goal is to bring together the world's leading researchers in theoretical computer science and related fields, as well as the next generation of outstanding young scholars, to explore deep unsolved problems about the nature and limits of computation."},
 {'category': 'Social Sciences',
  'link': 'http://www.ssl.berkeley.edu/',
  'name': 'Space Sciences Laboratory (SSL)',
  'purpose': 'SSL was initiated in 1958 by a committee of faculty members who recognized that emerging rocket and satellite technology opened up new investigative realms for the physical, biological, and engineering sciences. As a campus-wide multidisciplinary organization, SSL serves to integrate the space sciences on campus and stimulate new faculty-student research programs. Among other projects, SSL developed and maintains the SETI@home project, which pioneered the application of distributed computing to the space sciences.'},
 {'category': 'Computation',
  'link': 'http://synberc.org/',
  'name': 'Synthetic Biology Engineering Research Center (SYNBERC)',
  'purpose': 'In 2006, the NSF funded the first synthetic biology engineering research center—Synberc—to develop engineered biological systems that will catalyze new technologies for processing information, producing energy, manufacturing chemicals and pharmaceuticals, and fabricating materials. Synberc is a consortium of UC Berkeley, UC San Francisco, Stanford, Harvard, and MIT. These universities are located in the two “hubs” of synthetic biology—Boston and San Francisco’s Bay Area.'},
 {'category': 'Social Sciences',
  'link': 'http://arf.berkeley.edu/',
  'name': 'The Archaeological Research Facility',
  'purpose': 'The Archaeological Research Facility (ARF) encourages and carries out archaeological field and laboratory research conducted by UC Berkeley archaeologists and related specialists. As a field of research, archaeology is inherently interdisciplinary and collaborative; not only are there intimate research collaborations among natural scientists, social scientists and/or humanities scholars, but archaeology is practiced by scholars who expectedly hold faculty and/or research positions in a variety of departments, ranging from classics to earth and planetary science.'},
 {'category': 'Computation',
  'link': 'http://www.ecai.org/',
  'name': 'The Electronic Cultural Atlas Initiative',
  'purpose': 'The Electronic Cultural Atlas Initiative, established in 1997 by Emeritus Prof. Lewis Lancaster of UC Berkeley, is a digital humanities initiative involving numerous professors and institutions around the world with the stated goal of creating a networked digital atlas by creating tools and setting standards for dynamic, digital maps.'},
 {'category': 'Visualization',
  'link': 'http://astro.berkeley.edu/tac/',
  'name': 'Theoretical Astrophysics Center (TAC)',
  'purpose': 'TAC includes faculty, research scientists, postdoctoral researchers, and students working on a wide variety of problems in theoretical astrophysics. Their specialties include cosmology, planetary dynamics, the interstellar medium, star and planet formation, and compact objects.'},
 {'category': 'Theory',
  'link': 'http://townsendcenter.berkeley.edu/',
  'name': 'Townsend Center for the Humanities',
  'purpose': 'Established in 1987, the Doreen B. Townsend Center for the Humanities encourages an interdisciplinary approach to scholarship, fostered innovation in research, and promoted intellectual conversation among individuals from the humanities and related academic disciplines. The Center offers an array of fellowship and grant programs designed to support research and scholarship at all levels of the university community. They also support more than 60 interdisciplinary working groups on a wide range of topics—ranging from hip hop studies to orientalism, from Latin American colonial studies to new media—and co-sponsor a wide variety of lectures and conferences with other departments and units on campus. '},
 {'category': 'Visualization',
  'link': 'http://ual.berkeley.edu/',
  'name': 'Urban Analytics Lab',
  'purpose': 'Specializes in developing visualization and analysis tools for urban planning needs. Seems to have a focus on transportation and housing, and creating visualizations to demonstrate city planning endeavors.'},
 {'category': 'Visualization',
  'link': 'http://www.urbansim.org/Main/WebHome',
  'name': 'UrbanSim',
  'purpose': 'UrbanSim is an open source urban simulation system designed by Paul Waddell at UC Berkeley and developed with numerous collaborators to support metropolitan land use, transportation, and environmental planning.'},
 {'category': 'Theory',
  'link': 'http://vis.berkeley.edu/',
  'name': 'Visualization Group',
  'purpose': "The Visualization Group aims to assist researchers in achieving their scientific goals – solving some of the world's most challenging problems in scientific data understanding – through visualization and analytics while simultaneously advancing the state-of-the-art in visualization through their own research."}];
 
 var edges =[{'source': 50, 'target': 19, 'thickness': 3},
 {'source': 17, 'target': 26, 'thickness': 8},
 {'source': 50, 'target': 3, 'thickness': 5},
 {'source': 34, 'target': 40, 'thickness': 5},
 {'source': 20, 'target': 38, 'thickness': 9},
 {'source': 45, 'target': 9, 'thickness': 2},
 {'source': 19, 'target': 53, 'thickness': 1},
 {'source': 54, 'target': 6, 'thickness': 4},
 {'source': 15, 'target': 9, 'thickness': 9},
 {'source': 10, 'target': 9, 'thickness': 5},
 {'source': 45, 'target': 25, 'thickness': 4},
 {'source': 30, 'target': 39, 'thickness': 6},
 {'source': 26, 'target': 30, 'thickness': 7},
 {'source': 38, 'target': 42, 'thickness': 3},
 {'source': 37, 'target': 33, 'thickness': 6},
 {'source': 45, 'target': 4, 'thickness': 7},
 {'source': 48, 'target': 30, 'thickness': 7},
 {'source': 20, 'target': 43, 'thickness': 9},
 {'source': 34, 'target': 12, 'thickness': 9},
 {'source': 24, 'target': 21, 'thickness': 3},
 {'source': 45, 'target': 40, 'thickness': 10},
 {'source': 48, 'target': 26, 'thickness': 4},
 {'source': 5, 'target': 42, 'thickness': 2},
 {'source': 49, 'target': 6, 'thickness': 7},
 {'source': 49, 'target': 11, 'thickness': 1},
 {'source': 38, 'target': 26, 'thickness': 4},
 {'source': 39, 'target': 20, 'thickness': 8},
 {'source': 25, 'target': 13, 'thickness': 3},
 {'source': 6, 'target': 24, 'thickness': 1},
 {'source': 23, 'target': 12, 'thickness': 7},
 {'source': 1, 'target': 40, 'thickness': 9},
 {'source': 2, 'target': 23, 'thickness': 3},
 {'source': 49, 'target': 31, 'thickness': 10},
 {'source': 5, 'target': 37, 'thickness': 1},
 {'source': 37, 'target': 53, 'thickness': 7},
 {'source': 9, 'target': 45, 'thickness': 7},
 {'source': 50, 'target': 30, 'thickness': 3},
 {'source': 32, 'target': 33, 'thickness': 4},
 {'source': 0, 'target': 15, 'thickness': 2},
 {'source': 5, 'target': 42, 'thickness': 7},
 {'source': 22, 'target': 33, 'thickness': 2},
 {'source': 17, 'target': 52, 'thickness': 6},
 {'source': 33, 'target': 15, 'thickness': 9},
 {'source': 22, 'target': 9, 'thickness': 10},
 {'source': 34, 'target': 42, 'thickness': 3},
 {'source': 10, 'target': 9, 'thickness': 9},
 {'source': 36, 'target': 0, 'thickness': 7},
 {'source': 43, 'target': 25, 'thickness': 8},
 {'source': 36, 'target': 53, 'thickness': 7},
 {'source': 14, 'target': 4, 'thickness': 9},
 {'source': 21, 'target': 10, 'thickness': 2},
 {'source': 10, 'target': 6, 'thickness': 7},
 {'source': 5, 'target': 35, 'thickness': 1},
 {'source': 38, 'target': 6, 'thickness': 4},
 {'source': 34, 'target': 40, 'thickness': 5},
 {'source': 8, 'target': 35, 'thickness': 5},
 {'source': 1, 'target': 24, 'thickness': 9},
 {'source': 12, 'target': 9, 'thickness': 7},
 {'source': 45, 'target': 42, 'thickness': 9},
 {'source': 2, 'target': 20, 'thickness': 3},
 {'source': 9, 'target': 6, 'thickness': 9},
 {'source': 42, 'target': 10, 'thickness': 6},
 {'source': 12, 'target': 11, 'thickness': 3},
 {'source': 12, 'target': 11, 'thickness': 2},
 {'source': 23, 'target': 44, 'thickness': 2},
 {'source': 6, 'target': 5, 'thickness': 5},
 {'source': 15, 'target': 49, 'thickness': 1},
 {'source': 25, 'target': 15, 'thickness': 9},
 {'source': 43, 'target': 7, 'thickness': 5},
 {'source': 39, 'target': 16, 'thickness': 7},
 {'source': 17, 'target': 22, 'thickness': 10},
 {'source': 3, 'target': 50, 'thickness': 9},
 {'source': 50, 'target': 12, 'thickness': 9},
 {'source': 20, 'target': 48, 'thickness': 6},
 {'source': 20, 'target': 6, 'thickness': 7},
 {'source': 13, 'target': 46, 'thickness': 7},
 {'source': 3, 'target': 52, 'thickness': 2},
 {'source': 20, 'target': 53, 'thickness': 5},
 {'source': 32, 'target': 10, 'thickness': 9},
 {'source': 26, 'target': 42, 'thickness': 8},
 {'source': 16, 'target': 48, 'thickness': 7},
 {'source': 0, 'target': 2, 'thickness': 9},
 {'source': 18, 'target': 21, 'thickness': 3},
 {'source': 13, 'target': 42, 'thickness': 6},
 {'source': 2, 'target': 37, 'thickness': 7},
 {'source': 28, 'target': 21, 'thickness': 5},
 {'source': 41, 'target': 12, 'thickness': 8},
 {'source': 39, 'target': 8, 'thickness': 10},
 {'source': 54, 'target': 24, 'thickness': 5},
 {'source': 9, 'target': 52, 'thickness': 1},
 {'source': 34, 'target': 24, 'thickness': 9},
 {'source': 43, 'target': 38, 'thickness': 7},
 {'source': 24, 'target': 11, 'thickness': 7},
 {'source': 1, 'target': 27, 'thickness': 3},
 {'source': 50, 'target': 53, 'thickness': 2},
 {'source': 42, 'target': 54, 'thickness': 3},
 {'source': 43, 'target': 5, 'thickness': 9},
 {'source': 25, 'target': 44, 'thickness': 4},
 {'source': 36, 'target': 52, 'thickness': 2},
 {'source': 34, 'target': 22, 'thickness': 4}];

 var colors =  {'Visualization': [0, 169, 190], 'Computation': [100, 0, 0], 'Social Sciences': [50, 70, 150],'Theory':[200,100,100]};

var names = [];
for (var i = 0; i < nodes.length; i++) {
names.push(nodes[i].name);
}


var center = "";
var force;
var drawD3Document = function(nodes,links) {
	$("#search").typeahead({ source:names, afterSelect: function(val){focusVertex(val);} });
	var WIDTH = $(document).width(), HEIGHT = $(document).height();
    var width = WIDTH, height = HEIGHT;
    force = d3.layout.force().nodes(d3.values(nodes)).links(links).size([ 9*width/12, height ]).linkDistance(50).charge(-3000).on("tick", tick);
    var svg = d3.select("#canvas-svg").append("svg").attr("width", width).attr("height", height);
    svg.append("svg:defs").selectAll("marker").data([ "end" ]).enter().append("svg:marker").attr("id", String).attr("viewBox", "0 -5 10 10").attr("refX", 15).attr("refY", -1.5).attr("markerWidth", 6).attr("markerHeight", 6).attr("orient", "auto").append("svg:path").attr("d", "M0,-5L10,0L0,5");
    var path = svg.append("svg:g").selectAll("path").data(force.links()).enter().append("svg:path").style('stroke-width',function(d){return d.thickness}).attr("class", "link");

    var node = svg.selectAll(".node").data(force.nodes()).enter().append("g").attr("class", "node").call(force.drag);
    node.append("circle").attr("r", 10);
    node.append("p").attr("x", 12).attr("dy", ".35em").text(function(d) {
        return d.name;
    });
    force.start();
    for (var i = 0; i < 100; ++i) force.tick();
    force.stop();
    function tick() {
    	node.attr("transform", function(d) {
        	if(d.name==center){
        		d.x = WIDTH/3;
        		d.y = HEIGHT/2;
        	}
            return "translate(" + d.x + "," + d.y + ")";
        });
        path.attr("d", function(d) {
            var dx = d.target.x - d.source.x, dy = d.target.y - d.source.y, dr = Math.sqrt(dx * dx + dy * dy);
            return "M" + d.source.x + "," + d.source.y + "A" + dr + "," + dr + " 0 0,1 " + d.target.x + "," + d.target.y;
        });
        
    }
    $( ".node" ).contextmenu(function() {
  focusVertex(this.textContent);
  return false;
	});
};
//Colors all the nodes based on relationship to category (only one selected) 
var catColorAlpha = function(focusCategory){
	var dict = categories[focusCategory];
	var rgb = colors[focusCategory];
	var rgbaString = "rgba(" + rgb[0] + "," + rgb[1] + "," + rgb[2];
	var colorCalcVert = function(d){
	 // We are going to add alpha in the loop
		for (i = 0; i < 10; i += 1){ // Probably a better way to do this, will revisit. // 
			var strNum = i.toString();
			if (strNum == d.name){
				rgbaString + "," + dict[strNum] + ")";
				return rgbaString + "," + dict[strNum] + ")";
			}
		}
	}
	var colorCalcEdge = function(d){
		var alpha1 = d.source.name.toString();
		var alpha2 = d.target.name.toString();
		return  rgbaString + "," + Math.max(dict[alpha1], dict[alpha2]);
	}
	focusOn(colorCalcVert,colorCalcEdge);

}
// This will color every vertex by its most related category.
//var eachCatColor = function(){

//}
var catColor = function(focusCategory){
	var rgb = colors[focusCategory]
	var checkVert = function(d){
		if (d.category == focusCategory){
			return "rgb(" + rgb[0] + "," + rgb[1] + "," + rgb[2] + ")"
		return "rgb(230, 230, 230)"
		}
	}
	var checkEdge = function(d){
		if (d.source.category == focusCategory || d.target.category == focusCategory){
			return "rgb(" + rgb[0] + "," + rgb[1] + "," + rgb[2] + ")"
		}
		return "rgb(230, 230, 230)"
			
	}
	focusOn(checkVert, checkEdge);
}
var focusOn = function(f1,f2){
	var svg = d3.select("#canvas-svg");
	var node = svg.selectAll(".node");
	node.select('circle').style('fill', f1);
	node.select('p').style('color',f1);
	var edges = svg.selectAll('.link');
	edges.style('stroke',f2);
}

// Colors vertices and edges based on a specific vertex (non weighted <rgb>)
var focusVertex = function(focusCharacter){
	center = focusCharacter;
	var fVertex = function(d){
		if(d.name==focusCharacter){
	    force.start();
	    for (var i = 0; i < 10; ++i) force.tick();
	    force.stop();
		$("#focusname").text(d.name);
		$("#focushref").attr("href", d.link);
		$("#focushref").text("Link to Main Page");
		$("#focusdesc").text(d.purpose);

			return "rgb(0,0,0)";
		};	
		return "rgb(230,230,230)";
	};
	var fEdge = function(d){
		if(d.source.name==focusCharacter || d.target.name==focusCharacter){
				return "rgb(0,0,0)";
		};
		return "rgb(230,230,230)";
	};
	focusOn(fVertex,fEdge);
	
};
// Colors vertices and edges based on a category (non weighted <rgb>)
var focusCategory = function(focusCategory){
	var fVertex = function(d){
		if(d.category==focusCategory){
			return "rgb(0,0,0)";
		};
		return "rgb(230,230,230)";
	};
	var fEdge = function(d){
		if(d.source.category==focusCategory || d.target.category==focusCategory){
				return "rgb(0,0,0)";
		};
		return "rgb(230,230,230)";
	};
	focusOn(fVertex,fEdge);
}

$(document).ready(function () {

});
</script>
<body onload="drawD3Document(nodes,edges)">
  <section class="col-md-9">
    <div id="canvas-svg"></div>
  </section>
  <aside class="col-md-3 info">
  <h1 class="title"> BIDS IEM Visualization </h1>
    <div class="info-blurb">
      <h3 class="subtitle">Topics</h2>
    </div>
    <div class="form-group has-feedback">
    	<input type="text" class="form-control " id="search" data-provide="typeahead" />
    	<i class="glyphicon glyphicon-search form-control-feedback"></i>
    	</div>
    <ul>
      <li onclick="catColorAlpha('Visualization')">
        <div class="color-label col-md-2"><span class="color-box" style="background-color:rgb(0,169,190)"></span></div>
        <div class="text-label col-md-10"><span>Visualization</span></div>
      </li>
      <li onclick="catColorAlpha('Computation')">
        <div class="color-label col-md-2"><span class="color-box" style="background-color:rgb(100,0,0)"></span></div>
        <div class="text-label col-md-10"><span>Computation</span></div>
      </li>
      <li onclick="catColorAlpha('Social Sciences')">
        <div class="color-label col-md-2"><span class="color-box" style="background-color:rgb(50,70,150)"></span></div>
        <div class="text-label col-md-10"><span>Social Sciences</span></div>
      </li>
      <li onclick="catColorAlpha('Theory')">
        <div class="color-label col-md-2"><span class="color-box" style="background-color:rgb(200,100,100)"></span></div>
        <div class="text-label col-md-10"><span>Theory</span></div>
      </li>
    </ul>
    <h3 id="focusname"></h3>
    <p id="focusdesc"> </p>
    <a id="focushref" href="#"></a>

  </aside>
</body>

</html>